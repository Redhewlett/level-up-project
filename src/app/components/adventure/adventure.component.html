<div
  class="informationSquare adventure"
  *ngIf="UserService.currentUser && !AdventureService.adventureStarted && !AdventureService.adventureCompleted"
>
  <h3>Aventure</h3>
  <div class="adventure__list">
    <p class="adventure__list__title">Niveau requis</p>
    <div
      (click)="
        selectAdventure(
          adventure,
          SettingService.computeLevel(UserService.currentUser.xp)
        )
      "
      [ngClass]="{
        'disabled': SettingService.computeLevel(UserService.currentUser.xp) < adventure.levelRequired,
        'selected': AdventureService.currentAdventure?.name === adventure.name,
      }"
      class="adventure__list__item"
      *ngFor="let adventure of AdventureService.adventures; let i = index"
    >
      <p class="adventure__list__item__name">{{ adventure.name }}</p>
      <p class="adventure__list__item__lvl">{{ adventure.levelRequired }}</p>
    </div>
  </div>
</div>

<div
  class="informationSquare adventure expedition"
  *ngIf="AdventureService.currentAdventure && AdventureService.adventureStarted"
>
  <h3>Aventure</h3>
  <p>Expédition en cours...</p>
  <div class="adventure__list__item selected" id="expedition">
    <p class="adventure__list__item__name">
      {{ AdventureService.currentAdventure.name }}
    </p>
  </div>
  <p class="expedition__time">
    Fin de l'expédition dans {{ AdventureService.minsLeft }}:{{
      AdventureService.secsLeft < 10 ? "0" : ""
    }}{{ AdventureService.secsLeft }}
    {{ AdventureService.minsLeft < 1 ? "secondes" : "minutes" }}
  </p>
</div>

<div
  *ngIf="
    AdventureService.currentAdventure && AdventureService.adventureCompleted
  "
>
  <div class="informationSquare adventure expedition">
    <h3>Aventure</h3>
    <p>Expédition terminée !</p>
    <div class="adventure__list__item selected" id="expedition">
      <p class="adventure__list__item__name">
        {{ AdventureService.currentAdventure.name }}
      </p>
    </div>
    <p class="expedition__reward">
      Butins:<br />
      <span>{{ AdventureService.adventureResult.xp }}XP</span> -
      <span>{{ AdventureService.adventureResult.gold }} $</span>
    </p>
    <button class="btnMain" (click)="AdventureService.resetAdventure()">
      Retourner à la liste des Donjons
    </button>
  </div>
</div>
